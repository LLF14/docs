import{i as E,j as l,l as y,e as G,o as i,c as s,F as T,z as R,x as h,u as F,G as I,w as L,H as N,t as A,m as V,v as W,b as H,_ as P}from"../app.a2747a60.js";import{a as M,r as X,c as J,b as K}from"./index.981925da.js";const O=["title","href","target","onClick"],Q=["title","href","target","onClick"],U=E({__name:"TextScroll",props:{sliderText:{default:()=>[]},width:{default:"100%"},height:{default:60},backgroundColor:{default:"#FFF"},amount:{default:0},gap:{default:20},vertical:{type:Boolean,default:!1},interval:{default:1500}},emits:["click"],setup(t,{emit:q}){const a=t,r=l(0),m=l(0),g=l(),u=l(60),c=l([...a.sliderText]),$=l(),k=l(0),z=y(()=>u.value===60?1:60/u.value),B=()=>{const o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var v=null;function e(n){v?(u.value=Math.floor(1e3/(n-v)),console.log("fps",u.value),k.value=D(),d()):(m.value>10&&(v=n),m.value=o(e))}m.value=o(e)},D=()=>parseFloat(($.value.offsetWidth/a.amount).toFixed(2)),b=()=>{r.value>=k.value?(c.value.push(c.value.shift()),r.value=0):r.value+=z.value,g.value=M(b)},w=y(()=>typeof a.width=="number"?a.width+"px":a.width),p=y(()=>a.sliderText.length);G(()=>{a.vertical?d():B()});const d=()=>{a.vertical?p.value>1&&S():c.value.length>a.amount&&(g.value=M(b))},x=()=>{a.vertical?p.value>1&&J(_):K(g.value)};function C(o){q("click",o)}const f=l(0);var _=null;const S=()=>{_=X(()=>{f.value===p.value-1?f.value=0:f.value++,S()},a.interval)};return(o,v)=>t.vertical?(i(),s("div",{key:1,class:"m-slider-vertical",onMouseenter:x,onMouseleave:d,style:h(`height: ${t.height}px; width: ${F(w)}; background: ${t.backgroundColor};`)},[I(N,{name:"slide"},{default:L(()=>[(i(!0),s(T,null,R(t.sliderText,(e,n)=>V((i(),s("div",{class:"m-slider",style:h(`width: calc(${F(w)} - ${2*t.gap}px); height: ${t.height}px;`),key:n},[H("a",{class:"u-slider",title:e.title,href:e.link?e.link:"javascript:;",target:e.link?"_blank":"_self",onClick:j=>C(e.title)},A(e.title),9,Q)],4)),[[W,f.value===n]])),128))]),_:1})],36)):(i(),s("div",{key:0,class:"m-slider-horizon",onMouseenter:x,onMouseleave:d,ref_key:"horizonRef",ref:$,style:h(`height: ${t.height}px; width: ${F(w)}; background: ${t.backgroundColor};`)},[(i(!0),s(T,null,R(c.value,(e,n)=>(i(),s("a",{style:h(`will-change: transform; transform: translateX(${-r.value}px); width: ${k.value-t.gap}px; margin-left: ${t.gap}px;`),class:"u-slide-title",key:n,title:e.title,href:e.link?e.link:"javascript:;",target:e.link?"_blank":"_self",onClick:j=>C(e.title)},A(e.title||"--"),13,O))),128))],36))}});const ee=P(U,[["__scopeId","data-v-0d7db39e"]]);export{ee as default};
