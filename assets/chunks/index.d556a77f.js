import{i as h,o as i,c as r,b as v,t as m,E as V,_ as d,j as _,e as I,y as S,F as k,z as b,g as L,x,n as w,m as M,u as T,G as y}from"../app.a2747a60.js";const $={class:"selector-input"},C=["value"],B={class:"placeholder"},D=h({__name:"input",props:{placeholder:{default:"请选择"},value:null},emits:["searchOptions"],setup(e,{emit:o}){const a=V(),u=t=>{o("searchOptions",t.target.value)},n=t=>{},s=t=>{const l=a.refs.inputValue;l.value.length>0&&(l.value="",a.refs.inputValue.focus())};return(t,l)=>(i(),r("div",$,[v("input",{ref:"inputValue",type:"text",class:"input",value:e.value,onInput:l[0]||(l[0]=c=>u(c)),onFocus:l[1]||(l[1]=c=>u(c)),onBlur:l[2]||(l[2]=c=>n(e.value))},null,40,C),v("label",B,m(e.placeholder),1),v("span",{class:"iconfont iconfontTwo",onClick:l[3]||(l[3]=c=>s(e.value))},"")]))}});const H=d(D,[["__scopeId","data-v-72e46f6f"]]);const q={},E={class:"no-data-tip"};function F(e,o){return i(),r("div",E," - 没有搜索到内容 - ")}const O=d(q,[["render",F],["__scopeId","data-v-097ed15d"]]),N=["onClick"],z=h({__name:"Menu",props:{data:{default:()=>[{id:1,value:"1",text:"选项1"},{id:2,value:"2",text:"选项2"},{id:3,value:"3",text:"选项3"}]},searchValue:null,height:null,width:null,isScroll:{type:Boolean,default:!1}},emits:["setItemValue"],setup(e,{emit:o}){const a=e,u=t=>{t.disabled||o("setItemValue",t)},n=_();I(()=>{n.value=a.data}),a.searchValue;const s=t=>{n.value=a.data.filter(l=>l.text.toLowerCase().includes(a.searchValue.toLowerCase()))};return S(()=>a.searchValue,t=>{s()}),(t,l)=>{var c,f;return i(),r("div",{class:"selector-menu",style:x({height:e.height+"px",overflow:e.isScroll&&((c=n.value)==null?void 0:c.length)>=5?"auto":"hidden"})},[(f=n.value)!=null&&f.length?(i(!0),r(k,{key:0},b(n.value,(p,g)=>(i(),r("div",{class:w(["menu-item",{disabled:p.disabled}]),key:g,onClick:A=>u(p)},m(p.text),11,N))),128)):(i(),L(O,{key:1}))],4)}}});const j=d(z,[["__scopeId","data-v-d5347f60"]]),G={mounted(e){const o=e.querySelector(".selector-input"),a=e.querySelector(".selector-menu"),u=o.querySelector("input"),n=o.querySelector("label"),s=o.querySelector("span");u.addEventListener("focus",function(){n.style.display="none",s.innerHTML="&#xe741;",setTimeout(()=>{a.style.display="block"},200),this.value.length>=1&&(s.innerHTML="&#xe631;")},!1),u.addEventListener("blur",function(){s.innerHTML="&#xe664;",n.style.display="none",setTimeout(()=>{a.style.display="none",this.value.length===0&&(n.style.display="block")},200)},!1),u.addEventListener("input",function(){this.value.length>=1?(s.innerHTML="&#xe631;",n.style.display="none"):s.innerHTML="&#xe741;  "},!1)}},P=h({__name:"index",props:{placeholder:null,data:null,height:null,width:null,isScroll:{type:Boolean}},emits:["setItemValue"],setup(e,{emit:o}){const a=_(""),u=t=>{a.value=t.text,o("setItemValue",t)},n=_(""),s=t=>{n.value=t};return(t,l)=>M((i(),r("div",{class:"selector",style:x(`width:${e.width}px`)},[y(H,{placeholder:e.placeholder,value:a.value,onSearchOptions:s},null,8,["placeholder","value"]),y(j,{data:e.data,onSetItemValue:u,searchValue:n.value,height:e.height,isScroll:e.isScroll},null,8,["data","searchValue","height","isScroll"])],4)),[[T(G)]])}});const K=d(P,[["__scopeId","data-v-4ba5195e"]]);export{K as default};
