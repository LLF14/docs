import{i as $,k as b,j as n,o as i,c as r,F as B,z as F,n as p,b as c,h as S,x as g,p as m,d as k,t as f,A as T,B as D,_ as I}from"../app.a2747a60.js";const V=t=>(T("data-v-885c6674"),t=t(),D(),t),E={class:"m-collapse"},H=["onClick"],N={key:0,focusable:"false",class:"u-arrow","data-icon":"right","aria-hidden":"true",viewBox:"64 64 896 896"},L=V(()=>c("path",{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"},null,-1)),M=[L],j={key:1,class:"copy_msg"},J={class:"u-lang"},q=["onClick"],G=$({__name:"Collapse",props:{collapseData:{default:()=>[]},activeKey:{default:null},copyable:{type:Boolean,default:!1},lang:{default:""},fontSize:{default:14},headerFontSize:{default:0},textFontSize:{default:0},showArrow:{type:Boolean,default:!0}},emits:["update:activeKey","change"],setup(t,{emit:_}){const s=t;b(()=>{w(s.collapseData.length)},{flush:"post"});const v=n(),C=n([]);function w(e){for(let o=0;o<e;o++)C.value.push(v.value[o].offsetHeight)}function u(e){_("update:activeKey",e),_("change",e)}function A(e){if(d(e))if(Array.isArray(s.activeKey)){const o=s.activeKey.filter(a=>a!==e);u(o)}else u(null);else Array.isArray(s.activeKey)?u([...s.activeKey,e]):u(e)}function d(e){return Array.isArray(s.activeKey)?s.activeKey.includes(e):s.activeKey===e}const h=n(!1),z=n(),y=n("Copy");function K(e){console.log(e),navigator.clipboard.writeText(v.value[e].innerText||"").then(()=>{y.value="Copy",z.value=e,h.value=!0,setTimeout(()=>{y.value="Copy",h.value=!1},1500)},o=>{y.value=o})}return(e,o)=>(i(),r("div",E,[(i(!0),r(B,null,F(t.collapseData,(a,l)=>(i(),r("div",{class:p(["m-collapse-item",{"u-collapse-item-active":d(a.key||l)}]),key:l},[c("div",{class:"u-collapse-header",onClick:x=>A(a.key||l)},[t.showArrow?(i(),r("svg",N,M)):S("",!0),z.value==l&&h.value?(i(),r("div",j," 复制成功")):S("",!0),c("div",{class:p(["u-header",{ml24:t.showArrow}]),style:g(`font-size: ${t.headerFontSize||t.fontSize}px;`)},[m(e.$slots,"header",{header:a.header,key:a.key||l},()=>[k(f(a.header||"--"),1)],!0)],6)],8,H),c("div",{class:p(["u-collapse-content",{"u-collapse-copyable":t.copyable}]),style:g(`height: ${d(a.key||l)?C.value[l]:0}px;`)},[c("div",J,[m(e.$slots,"lang",{lang:t.lang,key:a.key||l},()=>[k(f(t.lang),1)],!0)]),c("button",{class:"u-copy",onClick:x=>K(l)},f(y.value),9,q),c("div",{ref_for:!0,ref_key:"text",ref:v,class:"u-text",style:g(`font-size: ${t.textFontSize||t.fontSize}px;`)},[m(e.$slots,"text",{text:a.text,key:a.key||l},()=>[k(f(a.text),1)],!0)],4)],6)],2))),128))]))}});const P=I(G,[["__scopeId","data-v-885c6674"]]);export{P as default};
