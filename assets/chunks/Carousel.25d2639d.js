import{i as ne,j as i,l as _,e as se,o as r,c,b as d,F as R,z as N,u as g,x as A,m as T,v as D,h as B,n as P,A as ie,B as oe,_ as ve}from"../app.a2747a60.js";import{c as X,r as re}from"./index.981925da.js";const S=u=>(ie("data-v-4d11742f"),u=u(),oe(),u),ce=["href","target"],fe=["onLoad","src","alt"],de={class:"u-spin-circle"},me={key:0,class:"m-image"},he=["href","target"],ge=["src","alt"],pe={class:"u-spin-circle"},we=S(()=>d("path",{d:"M603.3 327.5l-246 178a7.95 7.95 0 0 0 0 12.9l246 178c5.3 3.8 12.7 0 12.7-6.5V643c0-10.2-4.9-19.9-13.2-25.9L457.4 512l145.4-105.2c8.3-6 13.2-15.6 13.2-25.9V334c0-6.5-7.4-10.3-12.7-6.5z"},null,-1)),ke=S(()=>d("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"},null,-1)),_e=[we,ke],ye=S(()=>d("path",{d:"M666.7 505.5l-246-178A8 8 0 0 0 408 334v46.9c0 10.2 4.9 19.9 13.2 25.9L566.6 512 421.2 617.2c-8.3 6-13.2 15.6-13.2 25.9V690c0 6.5 7.4 10.3 12.7 6.5l246-178c4.4-3.2 4.4-9.8 0-13z"},null,-1)),Me=S(()=>d("path",{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"},null,-1)),Ae=[ye,Me],Se={key:1,class:"m-switch"},Fe=["onClick"],$e=ne({__name:"Carousel",props:{images:{default:()=>[]},interval:{default:3e3},width:{default:"100%"},height:{default:"100vh"},navigation:{type:Boolean,default:!0},pagination:{type:Boolean,default:!0},disableOnInteraction:{type:Boolean,default:!0},pauseOnMouseEnter:{type:Boolean,default:!0}},setup(u){const o=u,p=i(!0),a=i(0),w=i(!1),F=i(),m=i(),f=i(),k=i(!1),$=i(),s=i(1),G=_(()=>typeof o.width=="number"?o.width+"px":o.width),J=_(()=>typeof o.height=="number"?o.height+"px":o.height),K=_(()=>(o.images.length+1)*n.value),v=_(()=>o.images.length);se(()=>{Q(),U()});const L=i(Array(v.value).fill(!1)),x=i(),y=i(60),C=_(()=>y.value===60?12:12*(y.value/60));function E(e){L.value[e]=!0}function Q(){const e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;var l=null;function t(h){l?(y.value=Math.floor(1e3/(h-l)),console.log("fps",y.value),M()):(x.value>10&&(l=h),x.value=e(t))}x.value=e(t)}const n=i(),b=i();function U(){n.value=$.value.offsetWidth,b.value=$.value.offsetHeight}function M(){v.value>1&&(p.value=!0,w.value=!1,I(),console.log("imageSlider start"))}function Y(){X(F.value),p.value?q():z(),console.log("imageSlider stop")}function q(){X(F.value),cancelAnimationFrame(m.value),w.value=!0,a.value=Math.ceil(a.value/n.value)*n.value}function z(){cancelAnimationFrame(m.value),w.value=!0,a.value=Math.floor(a.value/n.value)*n.value}function I(){F.value=re(()=>{const e=a.value%(v.value*n.value)+n.value;s.value=s.value%v.value+1,ae(e)},o.interval)}function O(e){p.value?q():(z(),p.value=!0),w.value=!1,te(e)}function V(e){p.value?(q(),p.value=!1):z(),w.value=!1,le(e)}function Z(e){s.value=s.value-1>0?s.value-1:v.value,V(e)}function ee(e){s.value=s.value%v.value+1,O(e)}function W(){if(a.value>=f.value)I();else{var e=Math.ceil((f.value-a.value)/C.value);a.value+=e,m.value=requestAnimationFrame(W)}}function ae(e){a.value===v.value*n.value&&(a.value=0),f.value=e,m.value=requestAnimationFrame(W)}function j(){if(a.value>=f.value)k.value&&(k.value=!1,!o.disableOnInteraction&&!o.pauseOnMouseEnter&&M());else{var e=Math.ceil((f.value-a.value)/C.value);a.value+=e,m.value=requestAnimationFrame(j)}}function te(e){a.value===v.value*n.value&&(a.value=0),f.value=e,m.value=requestAnimationFrame(j)}function H(){if(a.value<=f.value)k.value&&(k.value=!1,!o.disableOnInteraction&&!o.pauseOnMouseEnter&&M());else{var e=Math.floor((f.value-a.value)/C.value);a.value+=e,m.value=requestAnimationFrame(H)}}function le(e){a.value===0&&(a.value=v.value*n.value),f.value=e,m.value=requestAnimationFrame(H)}function ue(e){if(s.value!==e){k.value=!0;const l=(e-1)*n.value;e<s.value&&(s.value=e,V(l)),e>s.value&&(s.value=e,O(l))}}return(e,l)=>(r(),c("div",{class:"m-slider",ref_key:"carousel",ref:$,style:A(`width: ${g(G)}; height: ${g(J)};`),onMouseenter:l[3]||(l[3]=t=>u.pauseOnMouseEnter?Y():()=>!1),onMouseleave:l[4]||(l[4]=t=>u.pauseOnMouseEnter?M():()=>!1)},[d("div",{class:P({transition:w.value}),style:A(`width: ${g(K)}px; height: 100%; will-change: transform; transform: translateX(${-a.value}px);`)},[(r(!0),c(R,null,N(u.images,(t,h)=>(r(),c("div",{class:"m-image",key:h},[d("a",{href:t.link?t.link:"javascript:;",target:t.link?"_blank":"_self",class:"m-link"},[(r(),c("img",{onLoad:Le=>E(h),src:t.src,key:t.src,alt:t.title,class:"u-img",style:A(`width: ${n.value}px; height: ${b.value}px;`)},null,44,fe)),T(d("div",de,null,512),[[D,!L.value[h]]])],8,ce)]))),128)),g(v)?(r(),c("div",me,[d("a",{href:u.images[0].link?u.images[0].link:"javascript:;",target:u.images[0].link?"_blank":"_self",class:"m-link"},[(r(),c("img",{onLoad:l[0]||(l[0]=t=>E(0)),src:u.images[0].src,key:u.images[0].src,alt:u.images[0].title,class:"u-img",style:A(`width: ${n.value}px; height: ${b.value}px;`)},null,44,ge)),T(d("div",pe,null,512),[[D,!L.value[0]]])],8,he)])):B("",!0)],6),u.navigation?(r(),c(R,{key:0},[(r(),c("svg",{class:"arrow-left",onClick:l[1]||(l[1]=t=>Z((s.value+g(v)-2)%g(v)*n.value)),viewBox:"64 64 896 896","data-icon":"left-circle","aria-hidden":"true",focusable:"false"},_e)),(r(),c("svg",{class:"arrow-right",onClick:l[2]||(l[2]=t=>ee(s.value*n.value)),viewBox:"64 64 896 896","data-icon":"right-circle","aria-hidden":"true",focusable:"false"},Ae))],64)):B("",!0),u.pagination?(r(),c("div",Se,[(r(!0),c(R,null,N(g(v),t=>(r(),c("div",{onClick:h=>ue(t),class:P(["u-rect",{active:s.value===t}]),key:t},null,10,Fe))),128))])):B("",!0)],36))}});const be=ve($e,[["__scopeId","data-v-4d11742f"]]);export{be as default};
